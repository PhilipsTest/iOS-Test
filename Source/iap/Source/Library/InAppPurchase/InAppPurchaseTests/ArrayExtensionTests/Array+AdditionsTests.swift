/* Copyright (c) Koninklijke Philips N.V., 2016
 * All rights are reserved. Reproduction or dissemination
 * in whole or in part is prohibited without the prior written
 * consent of the copyright holder.
 */

import XCTest
@testable import InAppPurchaseDev

class ArrayAdditionsTests: XCTestCase {

    func testExample() {
        let arrayWithDuplicates = ["2","4","3","5","6","2","3","8","9"]
        let arraywithNoDuplicates = arrayWithDuplicates.removeDuplicates()
        
        XCTAssertNotNil(arraywithNoDuplicates, "Array is nil")
        XCTAssert(arraywithNoDuplicates.count == 7, "Count does not match")
    }

    func testPerformanceExample() {
        self.measure {
            let arrayWithDuplicates = ["2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9","2","4","3","5","6","2","3","8","9"]
            let arraywithNoDuplicates = arrayWithDuplicates.removeDuplicates()
            XCTAssertNotNil(arraywithNoDuplicates)
        }
    }

    func testTextViewMethods() {
        let textView = UITextView(frame: CGRect(x: 0, y: 0, width: 30, height: 30))
        textView.addLinkAttributesAsPerIAP(fontSize:16)
        textView.attributedText = NSAttributedString(string: "asdasdadasdasd\nadsdsa\nadasd\nasdsda\nasdasdadsads\nasdasdas")
        let size = textView.getTextViewSize()
        XCTAssert(textView.isSelectable == true,"")
        XCTAssert(textView.isUserInteractionEnabled == true,"")
        XCTAssert(textView.isEditable == false,"")
        XCTAssert(size.height > 30, "")
        let nString = "Some string url"
        let aString = NSMutableAttributedString(string: nString)
        let range = (nString as NSString).range(of: "url")
        aString.addIAPLinkAttributes(links: [(URL(string: "www.google.com")!,range)], fontSize: 16)
        XCTAssert(aString.string == nString)
    }
}
